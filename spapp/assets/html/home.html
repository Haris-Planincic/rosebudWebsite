<!-- Header -->
<header class="bg-dark py-5">
  <div class="container px-4 px-lg-5 my-5">
    <div class="text-center text-white">
      <h1 class="display-4 fw-bolder">ROSEBUD</h1>
      <p class="lead fw-normal text-white-50 mb-0">Original props from various Hollywood productions</p>
    </div>
  </div>
</header>

<!-- Featured Section -->
<section class="py-5">
  <div class="container px-4 px-lg-5 mt-5">
    <h4 class="display-4 fw-bolder text-center mb-4">Featured</h4>

    <div id="home-product-list" class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
      <!-- Products will be injected here -->
    </div>

    <div class="text-center mt-4">
      <a href="#products"><button type="button" class="btn btn-secondary">View all</button></a>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="py-5 bg-dark">
  <div class="container">
    <p class="m-0 text-center text-white">Copyright &copy; Haris Planincic 2024</p>
  </div>
</footer>
<style>
  .product-card {
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.12s ease;
}

.product-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 24px rgba(0,0,0,0.08);
}

.product-card:focus {
  outline: 2px solid rgba(0,0,0,0.2);
  outline-offset: 2px;
}

</style>
<!-- Scripts -->


<script>
  async function renderFeaturedProducts(limit = 8) {
    const products = await productService.getAllProducts();
    const container = document.getElementById("home-product-list");
    container.innerHTML = "";

    products.slice(0, limit).forEach(product => {
      const isSold = product.isSold === 1 || product.isSold === true;

      const card = document.createElement("div");
      card.className = "col mb-5 product";
      card.innerHTML = `
  <div class="card h-100 product-card"
       role="button"
       tabindex="0"
       data-product-id="${product.productId}">
    <img class="card-img-top card-img-fixed"
         src="http://localhost/webprogramming2025-milestone2/backend/${product.productImage}"
         alt="${product.productName}" />
    <div class="card-body p-4">
      <div class="text-center">
        <h5 class="fw-bolder mb-2">${product.productName}</h5>
        <div class="text-muted">$${parseFloat(product.productPrice).toFixed(2)}</div>
      </div>
    </div>
  </div>
`;

      container.appendChild(card);
    });
  }

  $(document).ready(() => {
    renderFeaturedProducts();

$(document).on("click", ".product-card", function () {
  const productId = $(this).data("product-id") || $(this).attr("data-product-id");
  localStorage.setItem("selected_product_id", productId);
  window.location.hash = "#product";
});
$(document).on("keydown", ".product-card", function (e) {
  if (e.key === "Enter" || e.key === " ") {
    e.preventDefault();
    $(this).click();
  }
});

  });
</script>
